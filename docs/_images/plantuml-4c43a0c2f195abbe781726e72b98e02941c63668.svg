<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="481px" preserveAspectRatio="none" style="width:386px;height:481px;" version="1.1" viewBox="0 0 386 481" width="386px" zoomAndPan="magnify"><defs><filter height="300%" id="fddcf2jasaf7v" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FAFAD2" filter="url(#fddcf2jasaf7v)" height="338.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="96" y="84.2969"/><rect fill="#FAFAD2" filter="url(#fddcf2jasaf7v)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="297" y="113.5625"/><rect fill="#FAFAD2" filter="url(#fddcf2jasaf7v)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="297" y="269.0938"/><rect fill="#FFFFFF" filter="url(#fddcf2jasaf7v)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="313" x="62.5" y="230.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="33" x2="33" y1="38.2969" y2="440.7578"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="100.5" x2="100.5" y1="38.2969" y2="440.7578"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="301.5" x2="301.5" y1="38.2969" y2="440.7578"/><rect fill="#FEFECE" filter="url(#fddcf2jasaf7v)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="22.9951">User</text><rect fill="#FEFECE" filter="url(#fddcf2jasaf7v)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="439.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="459.7529">User</text><rect fill="#FEFECE" filter="url(#fddcf2jasaf7v)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="72.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="79.5" y="22.9951">Client</text><rect fill="#FEFECE" filter="url(#fddcf2jasaf7v)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="72.5" y="439.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="79.5" y="459.7529">Client</text><rect fill="#FEFECE" filter="url(#fddcf2jasaf7v)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="282.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="289.5" y="22.9951">API</text><rect fill="#FEFECE" filter="url(#fddcf2jasaf7v)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="282.5" y="439.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="289.5" y="459.7529">API</text><rect fill="#FAFAD2" filter="url(#fddcf2jasaf7v)" height="338.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="96" y="84.2969"/><rect fill="#FAFAD2" filter="url(#fddcf2jasaf7v)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="297" y="113.5625"/><rect fill="#FAFAD2" filter="url(#fddcf2jasaf7v)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="297" y="269.0938"/><polygon fill="#A80036" points="84,80.2969,94,84.2969,84,88.2969,88,84.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="33" x2="90" y1="84.2969" y2="84.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="40" y="64.3638">select</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="40" y="79.4966">article</text><polygon fill="#A80036" points="285,109.5625,295,113.5625,285,117.5625,289,113.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="291" y1="113.5625" y2="113.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="113" y="108.6294">GET /v1/articles/42/formats</text><polygon fill="#A80036" points="117,138.6953,107,142.6953,117,146.6953,113,142.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="301" y1="142.6953" y2="142.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="123" y="137.7622">formats</text><polygon fill="#FBFB77" filter="url(#fddcf2jasaf7v)" points="38,175.8281,163,175.8281,173,186.8281,163,198.8281,38,198.8281,28,186.8281,38,175.8281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="40" y="191.895">decide best format</text><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="313" x="62.5" y="230.9609"/><polygon fill="#EEEEEE" points="62.5,230.9609,139.5,230.9609,139.5,237.9609,129.5,247.9609,62.5,247.9609,62.5,230.9609" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="77.5" y="244.0278">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="216" x="154.5" y="243.1714">[eventually retrieve external urls]</text><polygon fill="#A80036" points="285,265.0938,295,269.0938,285,273.0938,289,269.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="291" y1="269.0938" y2="269.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="113" y="264.1606">GET external url</text><polygon fill="#A80036" points="117,294.2266,107,298.2266,117,302.2266,113,298.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="301" y1="298.2266" y2="298.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="123" y="293.2935">text or image</text><polygon fill="#FBFB77" filter="url(#fddcf2jasaf7v)" points="60,338.3594,142,338.3594,152,349.3594,142,361.3594,60,361.3594,50,349.3594,60,338.3594" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="62" y="354.4263">transliterate</text><polygon fill="#A80036" points="44,418.4922,34,422.4922,44,426.4922,40,422.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38" x2="100" y1="422.4922" y2="422.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="50" y="402.5591">show</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="50" y="417.6919">article</text><!--
@startuml
participant User as u
participant Client as c
participant "API" as a1

skinparam sequence {
       LifeLineBackgroundColor LightGoldenRodYellow
}

u -> c: select\narticle
activate c

c -> a1: GET /v1/articles/42/formats
activate a1
a1 -> c: formats
deactivate a1
||20||
hnote over c : decide best format
||20||
loop eventually retrieve external urls
   c -> a1: GET external url
   activate a1
   a1 -> c: text or image
   deactivate a1
end
||20||
hnote over c: transliterate
||20||
c -> u: show\narticle

deactivate c

@enduml

PlantUML version 1.2017.15(Mon Jul 03 18:45:34 CEST 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_151-8u151-b12-1-b12
Operating System: Linux
OS Version: 4.14.0-3-amd64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>